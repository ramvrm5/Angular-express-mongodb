function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2izp":function(e,n,t){"use strict";t.r(n),t.d(n,"CounsellorModule",(function(){return w}));var o,i=t("ofXK"),s=t("tyNb"),a=t("fXoL"),c=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Ib({type:o,selectors:[["app-counsellor"]],decls:1,vars:0,template:function(e,n){1&e&&a.Pb(0,"router-outlet")},directives:[s.g],styles:[""]}),o),r=t("be2r"),g=t("XiUz"),d=t("aZ8m"),u=t("kmnG"),l=t("qFsG"),p=t("3Pt+"),f=t("bTqV"),b=t("NFeN");function m(e,n){if(1&e&&(a.Ub(0,"div",19),a.wc(1),a.Tb()),2&e){var t=a.gc().$implicit,o=a.gc();a.jc("ngClass",t.id===o.user.id?"right join":"left join"),a.Cb(1),a.yc(" ",t.message," ")}}function h(e,n){if(1&e&&(a.Ub(0,"div",19),a.wc(1),a.Tb()),2&e){var t=a.gc().$implicit,o=a.gc();a.jc("ngClass",t.id===o.user.id?"right message":"left message"),a.Cb(1),a.yc(" ",t.message," ")}}function C(e,n){if(1&e&&(a.Ub(0,"div"),a.uc(1,m,2,2,"div",18),a.uc(2,h,2,2,"div",18),a.Tb()),2&e){var t=n.$implicit;a.Cb(1),a.jc("ngIf","JOIN"===t.type),a.Cb(1),a.jc("ngIf","JOIN"!==t.type)}}function x(e,n){if(1&e){var t=a.Vb();a.Ub(0,"div",20),a.Ub(1,"p",21),a.wc(2," Active Sessions "),a.Tb(),a.Ub(3,"div"),a.Ub(4,"mat-form-field",22),a.Ub(5,"input",23),a.cc("ngModelChange",(function(e){return a.nc(t),a.gc().accessCode=e})),a.Tb(),a.Tb(),a.Ub(6,"button",24),a.cc("click",(function(){return a.nc(t),a.gc().joinSession()})),a.wc(7," Join Session"),a.Tb(),a.Tb(),a.Tb()}if(2&e){var o=a.gc();a.Cb(5),a.jc("ngModel",o.accessCode)}}var v,M,y,k=[{path:"",component:c,children:[{path:"",redirectTo:"chat",pathMatch:"full"},{path:"chat",component:(v=function(){function e(n){_classCallCheck(this,e),this.socketService=n,this.user={room:"",name:"",id:0,message:"",type:""},this.sessions=["Test"],this.messageList=[],this.showSession=!0,this.client=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"joinSession",value:function(){this.user.room=this.accessCode,this.user.id=Math.random(),this.user.name=prompt("Enter username"),this.socketConnection(),this.getMessages()}},{key:"socketConnection",value:function(){var e=this;this.socketService.setupSocketConnection(),this.socketService.joinRoom(this.user),this.socketService.roomConfirmation().subscribe((function(n){n.message="".concat(n.name," has joined"),n.type="JOIN",e.messageList.push(n)}))}},{key:"senMessageOnEnter",value:function(e){13===e.keyCode&&(this.socketService.sendMessage(this.user),this.user.message="")}},{key:"sendMessage",value:function(){this.socketService.sendMessage(this.user),this.user.message="",this.scroll()}},{key:"getMessages",value:function(){var e=this;this.socketService.getMessages().subscribe((function(n){n.id!=e.user.id&&(e.client=n.name),e.messageList.push(n),e.scroll()}))}},{key:"scroll",value:function(){setTimeout((function(){document.getElementById("chatContainer").scrollTop=document.getElementById("chatContainer").scrollHeight}),100)}}]),e}(),v.\u0275fac=function(e){return new(e||v)(a.Ob(r.a))},v.\u0275cmp=a.Ib({type:v,selectors:[["app-chat"]],decls:20,vars:7,consts:[["fxLayout","column"],[3,"theme","variant"],["fxLayout","column",1,"container"],["fxLayout","","fxLayoutAlign","start center",1,"chat-header"],["fxLayout","","fxLayoutAlign","center center",2,"height","40px","width","40px","background","white","margin-left","8px","border-radius","24px"],["src","../../../assets/icons/chat-header.png","height","24",2,"position","absolute"],[1,"username"],["fxFlex",""],["fxLayout","column","fxLayoutAlign","space-between",1,"chat-main"],["fxFlex","","fxLayout","column","id","chatContainer"],[4,"ngFor","ngForOf"],["fxLayout","","fxLayoutGap","12px","fxLayoutAlign","start center",1,"send-message"],["src","../../../assets/icons/mood.svg",1,"mood-icon"],["fxFlex","","appearance","fill"],["matInput","","placeholder","Enter a message",3,"ngModel","ngModelChange","keyup"],["mat-button","",1,"send-button",3,"disabled","click"],[2,"color","white"],["id","session-container",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["id","session-container"],[2,"height","40px"],["id","accessCode"],["matInput","","placeholder","Enter Access Code",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"]],template:function(e,n){1&e&&(a.Ub(0,"div",0),a.Pb(1,"app-header",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Pb(5,"img",5),a.Tb(),a.Ub(6,"p",6),a.wc(7),a.Tb(),a.Tb(),a.Ub(8,"div",7),a.Ub(9,"div",8),a.Ub(10,"div",9),a.uc(11,C,3,2,"div",10),a.Tb(),a.Ub(12,"div",11),a.Pb(13,"img",12),a.Ub(14,"mat-form-field",13),a.Ub(15,"input",14),a.cc("ngModelChange",(function(e){return n.user.message=e}))("keyup",(function(e){return n.senMessageOnEnter(e)})),a.Tb(),a.Tb(),a.Ub(16,"button",15),a.cc("click",(function(){return n.sendMessage()})),a.Ub(17,"mat-icon",16),a.wc(18,"send"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.uc(19,x,8,1,"div",17)),2&e&&(a.Cb(1),a.jc("theme","light")("variant","client"),a.Cb(6),a.xc(n.client?n.client:"Client"),a.Cb(4),a.jc("ngForOf",n.messageList),a.Cb(4),a.jc("ngModel",n.user.message),a.Cb(1),a.jc("disabled",!n.user.message),a.Cb(3),a.jc("ngIf",n.showSession&&!n.user.room))},directives:[g.d,d.a,g.c,g.a,i.i,g.e,u.a,l.a,p.b,p.h,p.j,f.a,b.a,i.j,i.h],styles:[".username[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0;margin-left:24px;color:#fff;font-weight:700}.chat-header[_ngcontent-%COMP%]{background:#00b4ad;border-radius:32px;height:50px}#message-container[_ngcontent-%COMP%]{margin-top:2px;margin-bottom:2px}.left[_ngcontent-%COMP%]{float:left}.message[_ngcontent-%COMP%]{padding:8px 0 8px 10px;background:#fff}.join[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{width:250px;border-radius:8px;margin-top:10px;margin-bottom:10px}.join[_ngcontent-%COMP%]{padding:5px 0 5px 10px;font-size:14px}.right[_ngcontent-%COMP%]{float:right}#message[_ngcontent-%COMP%]{background:#00b4ad;margin-top:2px}.chat-main[_ngcontent-%COMP%]{min-height:calc(100vh - 136px);border-radius:32px;background:#def3f1}.from-chat[_ngcontent-%COMP%]{background:#fff}.from-chat[_ngcontent-%COMP%], .to-chat[_ngcontent-%COMP%]{height:160px;width:360px;border-radius:12px 24px 24px 24px}.to-chat[_ngcontent-%COMP%]{background:#00afaa}#session-container[_ngcontent-%COMP%]{width:320px;padding:10px;overflow-y:auto;box-shadow:1px 1px 2px 2px #b6b6b6;position:absolute;left:0;top:40%;right:0;margin:auto;height:160px}#accessCode[_ngcontent-%COMP%]{margin-top:10px}.send-message[_ngcontent-%COMP%]{bottom:0;background:#00b6af;border-radius:32px}.mood-icon[_ngcontent-%COMP%]{padding-left:18px;height:32px}.send-icon[_ngcontent-%COMP%]{padding-right:18px;height:32px}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important;background:#fff;border-radius:32px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]     .mat-form-field-underline{display:none}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em .5em}[_nghost-%COMP%]     .mat-form-field-infix{border-top:0}[_nghost-%COMP%]     .mat-form-field{font-size:14px;text-align:center!important}@media only screen and (min-width:1200px){.container[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%]{max-width:1024px}}#chatContainer[_ngcontent-%COMP%]{padding:25px;overflow-y:scroll;margin-bottom:10px}.send-button[_ngcontent-%COMP%]{text-align:left!important}"]}),v)}]}],O=((M=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:M}),M.\u0275inj=a.Lb({factory:function(e){return new(e||M)},imports:[[s.f.forChild(k)],s.f]}),M),_=t("PCNd"),P=t("0IaG"),w=((y=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:y}),y.\u0275inj=a.Lb({factory:function(e){return new(e||y)},imports:[[i.b,O,u.c,l.b,f.b,g.f,_.a,p.d,P.a,b.b]]}),y)}}]);